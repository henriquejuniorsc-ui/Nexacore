# ğŸš€ NexaCore - Guia Completo de Setup

## Seu Projeto de SaaS para ClÃ­nicas MÃ©dicas

**Autor:** Henrique  
**Data:** Fevereiro 2026  
**VersÃ£o:** 1.0

---

## ğŸ“‹ Resumo Executivo

O NexaCore Ã© um **SaaS completo para gestÃ£o de clÃ­nicas** que inclui:
- Agendamentos com sincronizaÃ§Ã£o Google Calendar
- Atendimento via WhatsApp com IA
- GestÃ£o de clientes/pacientes
- CobranÃ§a automÃ¡tica (PIX, Boleto, CartÃ£o)
- Dashboard com mÃ©tricas
- Sistema de lembretes
- Multi-tenant (vÃ¡rias clÃ­nicas na mesma plataforma)

---

## ğŸ—ï¸ Arquitetura do Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FRONTEND (Next.js 14)                â”‚
â”‚                   Vercel / seu domÃ­nio                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  API Routes (Next.js)                   â”‚
â”‚     /api/appointments, /api/clients, /api/inbox...      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                   â”‚
          â–¼                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    PostgreSQL   â”‚                 â”‚   Evolution API     â”‚
â”‚   (Supabase /   â”‚                 â”‚   (WhatsApp)        â”‚
â”‚    Neon / RDS)  â”‚                 â”‚   Auto-hospedado    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                                   
          â–¼                          
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 ServiÃ§os Externos                       â”‚
â”‚  â€¢ Clerk (AutenticaÃ§Ã£o)    â€¢ OpenAI (IA)               â”‚
â”‚  â€¢ Asaas (Pagamentos)      â€¢ Google Calendar            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## â“ Usa N8N?

**NÃƒO!** O NexaCore **nÃ£o usa N8N**. Toda a automaÃ§Ã£o Ã© feita internamente via:

1. **API Routes do Next.js** - Endpoints REST
2. **Cron Jobs** - Agendados via `/api/cron/*`
3. **Webhooks** - Recebe eventos de:
   - Evolution API (WhatsApp)
   - Asaas (Pagamentos)
   - Chatwoot (Chat)
   - Baileys (WhatsApp alternativo)

Se vocÃª quiser integrar N8N no futuro, Ã© possÃ­vel criar webhooks customizados.

---

## ğŸ› ï¸ O que vocÃª precisa criar/configurar

### 1. Banco de Dados PostgreSQL

**OpÃ§Ãµes Gratuitas/Baratas:**

| ServiÃ§o | Tier GrÃ¡tis | RecomendaÃ§Ã£o |
|---------|-------------|--------------|
| **Supabase** | 500MB, 2 projetos | â­ Recomendo - fÃ¡cil de usar |
| **Neon** | 512MB, branching | Bom para dev |
| **Railway** | $5/mÃªs crÃ©ditos | Deploy fÃ¡cil |
| **Render** | 90 dias grÃ¡tis | Bom para produÃ§Ã£o |

**Como criar no Supabase:**
1. Acesse https://supabase.com
2. Crie projeto "nexacore-henrique"
3. Copie a connection string: `postgresql://user:pass@host:5432/postgres`

---

### 2. AutenticaÃ§Ã£o - Clerk

**Site:** https://clerk.com

1. Criar conta gratuita
2. Criar aplicaÃ§Ã£o "NexaCore"
3. Obter:
   - `NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY` (comeÃ§a com `pk_`)
   - `CLERK_SECRET_KEY` (comeÃ§a com `sk_`)

**Tier GrÃ¡tis:** 10.000 usuÃ¡rios/mÃªs

---

### 3. OpenAI API (Para IA)

**Site:** https://platform.openai.com

1. Criar conta
2. Gerar API Key
3. Adicionar crÃ©ditos ($10 jÃ¡ dura bastante)

**VariÃ¡vel:** `OPENAI_API_KEY`

---

### 4. WhatsApp - Evolution API (Opcional)

Para integrar WhatsApp, vocÃª tem 2 opÃ§Ãµes:

**OpÃ§Ã£o A: Docker local/VPS**
- Usar o [docker-compose.yml](file:///c:/Users/Henrique/Downloads/nexacore-ui-bloco1%20%282%29/nexacore-saas-main/docker-compose.yml) que jÃ¡ vem no projeto
- Precisa de VPS (DigitalOcean, Hetzner, etc)

**OpÃ§Ã£o B: Sem WhatsApp inicialmente**
- Desabilitar a integraÃ§Ã£o e usar depois

---

### 5. Pagamentos - Asaas (Opcional)

**Site:** https://www.asaas.com

1. Criar conta (usar Sandbox para testes)
2. Obter `ASAAS_API_KEY`
3. Configurar webhook

---

### 6. Google Calendar (Opcional)

1. Criar projeto no Google Cloud Console
2. Habilitar Calendar API
3. Criar credenciais OAuth

---

## ğŸ“„ Arquivo .env Completo

Crie o arquivo `.env` na raiz do projeto:

```env
# ===========================================
# APP
# ===========================================
NEXT_PUBLIC_APP_URL=https://seu-dominio.vercel.app
NEXT_PUBLIC_APP_NAME=NexaCore

# ===========================================
# DATABASE (Supabase/Neon/Railway)
# ===========================================
DATABASE_URL="postgresql://user:password@host:5432/database"

# ===========================================
# CLERK (AutenticaÃ§Ã£o) - OBRIGATÃ“RIO
# ===========================================
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxx
CLERK_SECRET_KEY=sk_test_xxxxx
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/auth/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/auth/sign-up
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL=/dashboard
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL=/onboarding

# ===========================================
# OPENAI (IA) - OBRIGATÃ“RIO para IA
# ===========================================
OPENAI_API_KEY=sk-xxxxx

# ===========================================
# EVOLUTION API (WhatsApp) - OPCIONAL
# ===========================================
EVOLUTION_API_URL=http://localhost:8080
EVOLUTION_API_KEY=sua-chave-aqui

# ===========================================
# ASAAS (Pagamentos) - OPCIONAL
# ===========================================
# Sandbox: https://sandbox.asaas.com/api/v3
# Production: https://api.asaas.com/v3
ASAAS_API_KEY=xxxxx
ASAAS_API_URL=https://sandbox.asaas.com/api/v3
ASAAS_WEBHOOK_TOKEN=token-secreto

# ===========================================
# GOOGLE CALENDAR - OPCIONAL
# ===========================================
GOOGLE_CLIENT_ID=xxxxx
GOOGLE_CLIENT_SECRET=xxxxx
GOOGLE_REDIRECT_URI=https://seu-dominio.vercel.app/api/auth/callback/google

# ===========================================
# REDIS (para cache) - OPCIONAL
# ===========================================
REDIS_URL=redis://localhost:6379

# ===========================================
# CRON JOBS
# ===========================================
CRON_SECRET=token-secreto-para-cron
```

---

## ğŸš€ Deploy na Vercel

### Passo a Passo:

1. **FaÃ§a push do cÃ³digo para GitHub**
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin https://github.com/seu-user/nexacore.git
git push -u origin main
```

2. **Conecte na Vercel**
   - Acesse https://vercel.com
   - Import do GitHub
   - Selecione o repositÃ³rio

3. **Configure as variÃ¡veis de ambiente**
   - Cole todas as variÃ¡veis do `.env`

4. **Deploy!**

---

## ğŸ“Š Checklist de Setup

### MÃ­nimo para Funcionar:
- [ ] Banco PostgreSQL criado (Supabase)
- [ ] Clerk configurado (autenticaÃ§Ã£o)
- [ ] VariÃ¡veis de ambiente configuradas
- [ ] `npx prisma db push` executado
- [ ] Deploy na Vercel

### Para Funcionalidade Completa:
- [ ] OpenAI API Key (IA)
- [ ] Evolution API (WhatsApp)
- [ ] Asaas configurado (Pagamentos)
- [ ] Google Calendar API

---

## ğŸ”„ AdaptaÃ§Ãµes para seu Uso

### 1. Renomear para sua Marca
- Alterar `NexaCore` no cÃ³digo
- Trocar cores (tailwind.config.ts)
- Trocar logo

### 2. Campos EspecÃ­ficos para ClÃ­nicas MÃ©dicas
- HistÃ³rico mÃ©dico
- CID/DiagnÃ³sticos
- Receitas/PrescriÃ§Ãµes
- ProntuÃ¡rio eletrÃ´nico

### 3. IntegraÃ§Ãµes Adicionais
- Sistemas de prontuÃ¡rio (TISS, TUSS)
- IntegraÃ§Ã£o com convÃªnios

---

## ğŸ“ Organizar como Projeto Separado

Para organizar como projeto prÃ³prio:

1. **Mover para pasta definitiva:**
```bash
# Criar pasta de projetos
mkdir C:\Users\Henrique\Projetos
# Mover NexaCore
move "C:\Users\Henrique\Downloads\nexacore-ui-bloco1 (2)\nexacore-saas-main" C:\Users\Henrique\Projetos\nexacore
```

2. **Abrir no VS Code:**
```bash
code C:\Users\Henrique\Projetos\nexacore
```

3. **Inicializar Git:**
```bash
cd C:\Users\Henrique\Projetos\nexacore
git init
git add .
git commit -m "Initial commit - NexaCore SaaS"
```

---

## ğŸ’° Custos Estimados

| ServiÃ§o | GrÃ¡tis | ProduÃ§Ã£o |
|---------|--------|----------|
| Vercel | âœ… Hobby | ~$20/mÃªs Pro |
| Supabase | âœ… 500MB | ~$25/mÃªs |
| Clerk | âœ… 10k users | ~$25/mÃªs |
| OpenAI | $5-10/mÃªs | $20-50/mÃªs |
| Evolution API | Seu VPS | ~$10/mÃªs VPS |
| Asaas | âœ… Sandbox | % por transaÃ§Ã£o |

**Custo mÃ­nimo para comeÃ§ar:** ~$0/mÃªs (tudo no tier gratuito)
**Custo produÃ§Ã£o completa:** ~$80-150/mÃªs

---

## ğŸ¯ PrÃ³ximos Passos Recomendados

1. **Criar conta Supabase** e banco de dados
2. **Criar conta Clerk** e obter chaves
3. **Configurar .env** com suas credenciais
4. **Rodar `npx prisma db push`** para criar tabelas
5. **Testar localmente** com `npm run dev`
6. **Deploy na Vercel**

---

## ğŸ†˜ Precisa de Ajuda?

Se precisar de ajuda com qualquer etapa, Ã© sÃ³ me perguntar!

- ConfiguraÃ§Ã£o do banco de dados
- ConfiguraÃ§Ã£o do Clerk
- AdaptaÃ§Ã£o de campos para clÃ­nicas mÃ©dicas
- IntegraÃ§Ã£o WhatsApp
- Deploy
